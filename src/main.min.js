(function(a){function c(g){if(e[g])return e[g].exports;var d=e[g]={i:g,l:!1,exports:{}};a[g].call(d.exports,d,d.exports,c);d.l=!0;return d.exports}var e={};c.m=a;c.c=e;c.i=function(a){return a};c.d=function(a,d,b){c.o(a,d)||Object.defineProperty(a,d,{configurable:!1,enumerable:!0,get:b})};c.n=function(a){var d=a&&a.__esModule?function(){return a["default"]}:function(){return a};c.d(d,"a",d);return d};c.o=function(a,d){return Object.prototype.hasOwnProperty.call(a,d)};c.p="";return c(c.s=20)})([function(a,
c,e){Object.defineProperty(c,"__esModule",{value:!0});var g=function(){function a(b,a){for(var h=0;h<a.length;h++){var d=a[h];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(b,d.key,d)}}return function(b,d,h){d&&a(b.prototype,d);h&&a(b,h);return b}}();a=function(){function a(b,d,h,k){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");}g(a,[{key:"destroy",value:function(){this.sprite.destroy();this.live=!1;return!0}},
{key:"init",value:function(b,a,d,k){var h=this;this.live=!0;this.sprite=game.add.sprite(b,a,"rocket");this.sprite.anchor.setTo(.5,.5);this.sprite.scale.setTo(gameScaleBase,gameScaleBase);this.scale=gameScaleBase;this.sprite.animations.add("default",this.frames);this.sprite.animations.play("default",3,!0);this.sprite.angle=180/Math.PI*d;game.physics.arcade.enable(this.sprite);this.sprite.body.enable=!0;this.sprite.body.collideWorldBounds=!1;this.angle=d;this.owner=k;this.velocity=50;window.setTimeout(function(){h.destroy()},
1E4)}},{key:"update",value:function(){300>this.velocity&&(this.velocity+=5);this.sprite.body.velocity.x=this.velocity*gameScaleBase*Math.cos(this.angle);this.sprite.body.velocity.y=this.velocity*gameScaleBase*Math.sin(this.angle)}},{key:"x",get:function(){return this.sprite.x},set:function(b){this.sprite.x=b;return!0}},{key:"y",get:function(){return this.sprite.y},set:function(b){this.sprite.y=b;return!0}}]);return a}();c["default"]=a},function(a,c,e){function g(b){return b&&b.__esModule?b:{"default":b}}
Object.defineProperty(c,"__esModule",{value:!0});a=e(18);a=g(a);var d=e(12),d=g(d);e=e(19);e=g(e);window.game=new Phaser.Game(window.innerWidth*window.devicePixelRatio,window.innerHeight*window.devicePixelRatio,Phaser.AUTO,"",{preload:a["default"],create:d["default"],update:e["default"]},!1,!1);window.largestDimension=window.innerWidth>window.innerHeight?window.innerWidth*window.devicePixelRatio:window.innerHeight*window.devicePixelRatio;window.gameScaleBase=largestDimension/800;c["default"]=window.game},
function(a,c,e){Object.defineProperty(c,"__esModule",{value:!0});var g=function(){function b(b,a){for(var d=0;d<a.length;d++){var h=a[d];h.enumerable=h.enumerable||!1;h.configurable=!0;"value"in h&&(h.writable=!0);Object.defineProperty(b,h.key,h)}}return function(a,d,c){d&&b(a.prototype,d);c&&b(a,c);return a}}(),d=(a=e(8))&&a.__esModule?a:{"default":a},b=(e=e(9))&&e.__esModule?e:{"default":e};e=function(){function a(d,c,e){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");
d="undefined"!==typeof d?d:game.world.centerX;c="undefined"!==typeof c?c:game.world.centerY;this.sprite=game.add.sprite(d,c,"asmallworld");this.sprite.anchor.setTo(.5,.5);this.sprite.scale.setTo(gameScaleBase,gameScaleBase);this.scale=gameScaleBase;this.sprite.animations.add("default");this.sprite.animations.play("default",1,!0);game.physics.arcade.enable(this.sprite);this.weapon=new b["default"](this);this.orbitalOrigin=[d,c];this.orbitalPhase=0;this.initOrbitalTrack()}g(a,[{key:"fireWeapon",value:function(b){return this.weapon.fire(b)}},
{key:"initOrbitalTrack",value:function(){this.orbitalTrack=new d["default"](64,360,this.orbitalOrigin)}},{key:"moveBy",value:function(b,a){this.x+=b;this.y+=a;return!0}},{key:"moveTo",value:function(b,a){this.x=b;this.y=a;return!0}},{key:"update",value:function(){this.scale!==gameScaleBase&&(this.sprite.scale.setTo(gameScaleBase,gameScaleBase),this.scale=gameScaleBase);var b=this.orbitalTrack.getPoint(360>this.orbitalPhase?this.orbitalPhase++:this.orbitalPhase=0);this.moveTo(b[0],b[1]);this.weapon.update()}},
{key:"upgradeWeapon",value:function(){return this.weapon.upgrade()}},{key:"x",get:function(){return this.sprite.x},set:function(b){this.sprite.x=b;return!0}},{key:"y",get:function(){return this.sprite.y},set:function(b){this.sprite.y=b;return!0}}]);return a}();c["default"]=e},function(a,c,e){function g(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,
writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});a=e(0);a=function(a){function b(a,d,c,e){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");var f;f=(b.__proto__||Object.getPrototypeOf(b)).call(this,a,d,c,e);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");f=!f||"object"!==typeof f&&"function"!==typeof f?this:f;f.baseDamage=
100;f.blastRadius=100;f.frames=[0,1];f.init(a,d,c,e);return f}g(b,a);return b}((a&&a.__esModule?a:{"default":a})["default"]);c["default"]=a},function(a,c,e){Object.defineProperty(c,"__esModule",{value:!0});var g=function(){function a(b,a){for(var d=0;d<a.length;d++){var c=a[d];c.enumerable=c.enumerable||!1;c.configurable=!0;"value"in c&&(c.writable=!0);Object.defineProperty(b,c.key,c)}}return function(b,d,c){d&&a(b.prototype,d);c&&a(b,c);return b}}();a=function(){function a(b,d){if(!(this instanceof
a))throw new TypeError("Cannot call a class as a function");this.cursor=b;this.player=d;this.leftButtonWasDown=!1;game.input.mouse.capture=!0}g(a,[{key:"getPlayerAngleToCursor",value:function(){return Math.atan2(this.cursor.y-this.player.y,this.cursor.x-this.player.x)}},{key:"update",value:function(){this.leftButtonWasDown?game.input.activePointer.leftButton.isDown||(this.leftButtonWasDown=!1):game.input.activePointer.leftButton.isDown&&(this.player.fireWeapon(this.getPlayerAngleToCursor()),this.leftButtonWasDown=
!0)}}]);return a}();c["default"]=a},function(a,c,e){Object.defineProperty(c,"__esModule",{value:!0});var g=function(){function b(b,a){for(var d=0;d<a.length;d++){var c=a[d];c.enumerable=c.enumerable||!1;c.configurable=!0;"value"in c&&(c.writable=!0);Object.defineProperty(b,c.key,c)}}return function(a,d,c){d&&b(a.prototype,d);c&&b(a,c);return a}}(),d=(a=e(13))&&a.__esModule?a:{"default":a};a=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");var b=
this;this.sprite=game.add.sprite(-100,-100,"crosshair-normal");this.sprite.anchor.setTo(.5,.5);this.sprite.scale.setTo(1,1);game.input.addMoveCallback(function(a,d,c){b.update(a,d,c)});(0,d["default"])(document,"mouseout",function(){b.hide()});(0,d["default"])(document,"mouseover",function(){b.show()})}g(a,[{key:"hide",value:function(){this.sprite.visible=!1}},{key:"show",value:function(){this.sprite.visible=!0}},{key:"update",value:function(a,b,d){this.sprite.x=b;this.sprite.y=d}},{key:"x",get:function(){return this.sprite.x},
set:function(a){this.sprite.x=a;return!0}},{key:"y",get:function(){return this.sprite.y},set:function(a){this.sprite.y=a;return!0}}]);return a}();c["default"]=a},function(a,c,e){function g(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,
"__esModule",{value:!0});a=e(0);a=function(a){function b(a,d,c,e){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");var f;f=(b.__proto__||Object.getPrototypeOf(b)).call(this,a,d,c,e);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");f=!f||"object"!==typeof f&&"function"!==typeof f?this:f;f.baseDamage=200;f.blastRadius=200;f.frames=[2,3];f.init(a,d,c,e);return f}g(b,a);return b}((a&&a.__esModule?a:{"default":a})["default"]);
c["default"]=a},function(a,c,e){function g(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});a=e(0);a=function(a){function b(a,c,d,e){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");
var f;f=(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c,d,e);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");f=!f||"object"!==typeof f&&"function"!==typeof f?this:f;f.baseDamage=400;f.blastRadius=400;f.frames=[6,7];f.init(a,c,d,e);return f}g(b,a);return b}((a&&a.__esModule?a:{"default":a})["default"]);c["default"]=a},function(a,c,e){Object.defineProperty(c,"__esModule",{value:!0});var g=function(){function a(a,c){for(var b=0;b<c.length;b++){var d=
c[b];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}();a=function(){function a(b,c,d){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");b="undefined"!==typeof b?b:256;c="undefined"!==typeof c?c:360;d="undefined"!==typeof d?d:[0,0];this.points=[];for(var e=0;e<c;e++)this.points.push([Math.cos(360/c*e*(Math.PI/180))*b*gameScaleBase+d[0],Math.sin(360/
c*e*(Math.PI/180))*b*gameScaleBase+d[1]]);this.radius=b;this.resolution=c;this.origin=d}g(a,[{key:"getPoint",value:function(a){return a<this.resolution?this.points[a]:!1}},{key:"getPointByDegree",value:function(a){return 0<=a&&360>a?(359.5<=a&&(a=0),this.getPoint(Math.round(this.resolution/360*a))):!1}}]);return a}();c["default"]=a},function(a,c,e){function g(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0});var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=
b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}();a=e(0);g(a);a=e(3);var b=g(a);a=e(6);var l=g(a);a=e(11);var h=g(a);e=e(7);var k=g(e);e=function(){function a(b){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.parent=b;this.rocketType="basic";this.rocketPool=[]}d(a,[{key:"fire",value:function(a){switch(this.rocketType){case "basic":a=
new b["default"](this.parent.x,this.parent.y,a,this.parent);break;case "double":a=new l["default"](this.parent.x,this.parent.y,a,this.parent);break;case "ultra":a=new h["default"](this.parent.x,this.parent.y,a,this.parent);break;case "nuclear":a=new k["default"](this.parent.x,this.parent.y,a,this.parent);break;default:a=new b["default"](this.parent.x,this.parent.y,a,this.parent)}this.rocketPool.push(a)}},{key:"update",value:function(){for(var a in this.rocketPool)this.rocketPool[a].live?this.rocketPool[a].update():
delete this.rocketPool[a]}},{key:"upgrade",value:function(){switch(this.rocketType){case "basic":this.rocketType="double";break;case "double":this.rocketType="ultra";break;case "ultra":this.rocketType="nuclear";break;case "nuclear":break;default:this.rocketType="basic"}return!0}}]);return a}();c["default"]=e},function(a,c,e){Object.defineProperty(c,"__esModule",{value:!0});c["default"]=function d(a,c){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");a="undefined"!==
typeof a?a:game.world.centerX;c="undefined"!==typeof c?c:game.world.centerY;this.sprite=game.add.sprite(a,c,"sun");this.sprite.anchor.setTo(.5,.5);this.sprite.scale.setTo(gameScaleBase,gameScaleBase);this.sprite.animations.add("default");this.sprite.animations.play("default",10,!0)}},function(a,c,e){function g(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,
enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});a=e(0);a=function(a){function b(a,c,d,e){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");var f;f=(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c,d,e);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");f=!f||"object"!==typeof f&&"function"!==typeof f?this:f;
f.baseDamage=300;f.blastRadius=300;f.frames=[4,5];f.init(a,c,d,e);return f}g(b,a);return b}((a&&a.__esModule?a:{"default":a})["default"]);c["default"]=a},function(a,c,e){function g(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0});c["default"]=function(){game.physics.startSystem(Phaser.Physics.ARCADE);window.background=game.add.tileSprite(0,0,game.world.width,game.world.height,"space");window.sun=new d["default"](game.world.centerX,game.world.centerY);window.asmallworld=
new b["default"](game.world.centerX,game.world.centerY);window.crosshair=new l["default"];window.controller=new h["default"](crosshair,asmallworld)};a=e(10);var d=g(a);a=e(2);var b=g(a);a=e(5);var l=g(a);e=e(4);var h=g(e)},function(a,c,e){Object.defineProperty(c,"__esModule",{value:!0});c["default"]=function(a,c,b){a.addEventListener?a.addEventListener(c,b,!1):a.attachEvent&&a.attachEvent("on"+c,b)}},function(a,c,e){game.load.spritesheet("asmallworld","assets/asmallworld.png",16,16)},function(a,c,
e){game.load.image("crosshair-normal","assets/crosshair-normal.png")},function(a,c,e){game.load.image("space","assets/space.png");game.load.spritesheet("sun","assets/sun.png",64,64)},function(a,c,e){game.load.spritesheet("rocket","assets/rocket.png",8,16)},function(a,c,e){Object.defineProperty(c,"__esModule",{value:!0});c["default"]=function(){e(16);e(14);e(15);e(17)}},function(a,c,e){Object.defineProperty(c,"__esModule",{value:!0});c["default"]=function(){asmallworld.update();controller.update()}},
function(a,c,e){e(1)}]);
